
> speed-date@0.1.0 test
> playwright test tests/3-users-city-age-filtering.spec.ts

[dotenv@17.2.3] injecting env (6) from .env.local -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.3] injecting env (0) from .env.local -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

Running 1 test using 1 worker
[dotenv@17.2.3] injecting env (0) from .env.local -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.3] injecting env (0) from .env.local -- tip: âš™ï¸  enable debug logging with { debug: true }
(node:46090) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
ðŸŒ Testing against Vercel: https://speed-1m1nczlh6-eds-projects-934496ce.vercel.app
ðŸ‘¤ Creating 3 test users...
âœ… All test users created
âš™ï¸ Updating user profiles with ages...
âš™ï¸ Setting up user preferences via Supabase...
âœ… Preferences set. Verification: [
  {
    userId: [32m'4030e646'[39m,
    city: [ [32m'London'[39m, [32m'South England'[39m, [32m'Midlands'[39m, [32m'North England'[39m ],
    cityCount: [33m4[39m,
    ageRange: [32m'20-30'[39m
  },
  {
    userId: [32m'2f8bc02c'[39m,
    city: [ [32m'London'[39m ],
    cityCount: [33m1[39m,
    ageRange: [32m'20-30'[39m
  },
  {
    userId: [32m'81f96f01'[39m,
    city: [ [32m'London'[39m, [32m'South England'[39m ],
    cityCount: [33m2[39m,
    ageRange: [32m'30-40'[39m
  }
]
ðŸŒ Opening browser contexts and signing in users...

ðŸ§¹ Cleaning up test users...
âœ… Cleanup complete
Ã—[dotenv@17.2.3] injecting env (0) from .env.local -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env.local -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
(node:46362) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
ðŸŒ Testing against Vercel: https://speed-1m1nczlh6-eds-projects-934496ce.vercel.app
ðŸ‘¤ Creating 3 test users...
âœ… All test users created
âš™ï¸ Updating user profiles with ages...
âš™ï¸ Setting up user preferences via Supabase...
âœ… Preferences set. Verification: [
  {
    userId: [32m'1aad10ba'[39m,
    city: [ [32m'London'[39m, [32m'South England'[39m ],
    cityCount: [33m2[39m,
    ageRange: [32m'30-40'[39m
  },
  {
    userId: [32m'381b33fa'[39m,
    city: [ [32m'London'[39m, [32m'South England'[39m, [32m'Midlands'[39m, [32m'North England'[39m ],
    cityCount: [33m4[39m,
    ageRange: [32m'20-30'[39m
  },
  {
    userId: [32m'7e54ea05'[39m,
    city: [ [32m'London'[39m ],
    cityCount: [33m1[39m,
    ageRange: [32m'20-30'[39m
  }
]
ðŸŒ Opening browser contexts and signing in users...

ðŸ§¹ Cleaning up test users...
âœ… Cleanup complete
Ã—[dotenv@17.2.3] injecting env (0) from .env.local -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
[dotenv@17.2.3] injecting env (0) from .env.local -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
(node:46618) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
ðŸŒ Testing against Vercel: https://speed-1m1nczlh6-eds-projects-934496ce.vercel.app
ðŸ‘¤ Creating 3 test users...
âœ… All test users created
âš™ï¸ Updating user profiles with ages...
âš™ï¸ Setting up user preferences via Supabase...
âœ… Preferences set. Verification: [
  {
    userId: [32m'00179718'[39m,
    city: [ [32m'London'[39m, [32m'South England'[39m, [32m'Midlands'[39m, [32m'North England'[39m ],
    cityCount: [33m4[39m,
    ageRange: [32m'20-30'[39m
  },
  {
    userId: [32m'1f20ab6e'[39m,
    city: [ [32m'London'[39m ],
    cityCount: [33m1[39m,
    ageRange: [32m'20-30'[39m
  },
  {
    userId: [32m'417d1859'[39m,
    city: [ [32m'London'[39m, [32m'South England'[39m ],
    cityCount: [33m2[39m,
    ageRange: [32m'30-40'[39m
  }
]
ðŸŒ Opening browser contexts and signing in users...

ðŸ§¹ Cleaning up test users...
âœ… Cleanup complete
F

  1) [chromium] â€º tests/3-users-city-age-filtering.spec.ts:19:7 â€º 3 Users City and Age Filtering Test â€º should match male (young, all cities) with female (young, London only), but not with female (old, 2 cities) 

    TimeoutError: locator.waitFor: Timeout 10000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[type="email"]').first() to be visible[22m


      155 |           // Check if we need to sign in or if onboarding is shown
      156 |           const emailInput = page.locator('input[type="email"]').first()
    > 157 |           await emailInput.waitFor({ state: 'visible', timeout: 10000 })
          |                            ^
      158 |           
      159 |           // Sign in
      160 |           await emailInput.fill(user.email)
        at /Users/bb/Desktop/speed/tests/3-users-city-age-filtering.spec.ts:157:28
        at /Users/bb/Desktop/speed/tests/3-users-city-age-filtering.spec.ts:146:24

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium/test-failed-3.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium/test-failed-2.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #3: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    TimeoutError: locator.waitFor: Timeout 10000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[type="email"]').first() to be visible[22m


      155 |           // Check if we need to sign in or if onboarding is shown
      156 |           const emailInput = page.locator('input[type="email"]').first()
    > 157 |           await emailInput.waitFor({ state: 'visible', timeout: 10000 })
          |                            ^
      158 |           
      159 |           // Sign in
      160 |           await emailInput.fill(user.email)
        at /Users/bb/Desktop/speed/tests/3-users-city-age-filtering.spec.ts:157:28
        at /Users/bb/Desktop/speed/tests/3-users-city-age-filtering.spec.ts:146:24

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry1/test-failed-2.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #3: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry1/test-failed-3.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry1/error-context.md

    attachment #5: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    TimeoutError: locator.waitFor: Timeout 10000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[type="email"]').first() to be visible[22m


      155 |           // Check if we need to sign in or if onboarding is shown
      156 |           const emailInput = page.locator('input[type="email"]').first()
    > 157 |           await emailInput.waitFor({ state: 'visible', timeout: 10000 })
          |                            ^
      158 |           
      159 |           // Sign in
      160 |           await emailInput.fill(user.email)
        at /Users/bb/Desktop/speed/tests/3-users-city-age-filtering.spec.ts:157:28
        at /Users/bb/Desktop/speed/tests/3-users-city-age-filtering.spec.ts:146:24

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry2/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry2/test-failed-3.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #3: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry2/test-failed-2.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/3-users-city-age-filtering-bd936-t-with-female-old-2-cities--chromium-retry2/error-context.md

  1 failed
    [chromium] â€º tests/3-users-city-age-filtering.spec.ts:19:7 â€º 3 Users City and Age Filtering Test â€º should match male (young, all cities) with female (young, London only), but not with female (old, 2 cities) 
