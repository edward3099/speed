
> speed-date@0.1.0 test:scenarios:high
> playwright test tests/run-scenarios.spec.ts -g 'high-priority'


Running 1 test using 1 worker

[1A[2K[1/1] [chromium] â€º tests/run-scenarios.spec.ts:29:7 â€º Scenario-Based Testing â€º Run all high-priority scenarios
[1A[2K[chromium] â€º tests/run-scenarios.spec.ts:29:7 â€º Scenario-Based Testing â€º Run all high-priority scenarios
âœ… Loaded 500 test users

[1A[2K
ğŸš€ Running 8 high-priority scenarios...


[1A[2KğŸ§¹ Clearing queue and matches...

[1A[2K  âœ… State cleared

[1A[2K
ğŸ“Š Running scenario: Gender Imbalance - Extreme Male Majority

[1A[2K   Users: 250 (200M, 50F)

[1A[2K   âœ… 250/250 users joined queue

[1A[2K   ğŸ“¦ Processing matching in batches of 75...

[1A[2K   âœ… Created 50 matches in call 1 (total: 50)

[1A[2K   âœ… Processed matching (initial: 50 matches created)

[1A[2K   â³ Waiting 20s for Tier 3 guaranteed matching...

[1A[2K   ğŸ”„ Retry round 1/3: Processing 150 unmatched users...

[1A[2K   âœ… 0 matches created in round 1

[1A[2K   â³ Waiting 3s before next retry round...

[1A[2K   ğŸ”„ Retry round 2/3: Processing 150 unmatched users...

[1A[2K   âœ… 0 matches created in round 2

[1A[2K   â³ Waiting 3s before next retry round...

[1A[2K   ğŸ”„ Retry round 3/3: Processing 150 unmatched users...

[1A[2K   âœ… 0 matches created in round 3

[1A[2K   â³ Waiting up to 15s for matches to stabilize...

[1A[2K   ğŸ“Š Current pairs: 50 (waiting for stability...)

[1A[2K   âœ… Matches stabilized at 50 pairs after 8s

[1A[2K
================================================================================

[1A[2KğŸ“Š SCENARIO: Gender Imbalance - Extreme Male Majority

[1A[2K================================================================================

[1A[2K
âœ… Status: PASSED

[1A[2Kâ±ï¸  Duration: 77.75s

[1A[2K
ğŸ“ˆ Results:

[1A[2K   Pairs created: 50

[1A[2K   Unique pairs: 50

[1A[2K   Duplicate users: 0

[1A[2K   Unmatched users: 150

[1A[2K
â±ï¸  Performance:

[1A[2K   Avg join time: 4131.94ms

[1A[2K   Avg match time: 0.00ms

[1A[2K   Operations/sec: 3.22

[1A[2K
âœ… Passed assertions (3):

[1A[2K   âœ“ Exact pairs: 50 (target: 50, range: 49-51)

[1A[2K   âœ“ No duplicate users in pairs

[1A[2K   âœ“ Unmatched users: 150 (target: 150, range: 143-157)

[1A[2K
================================================================================

[1A[2KğŸ§¹ Clearing queue and matches...

[1A[2K  âœ… State cleared

[1A[2K
ğŸ“Š Running scenario: Gender Imbalance - Extreme Female Majority

[1A[2K   Users: 250 (50M, 200F)

[1A[2K   âœ… 250/250 users joined queue

[1A[2K   ğŸ“¦ Processing matching in batches of 75...

[1A[2K   âœ… Created 50 matches in call 1 (total: 50)

[1A[2K   âœ… Processed matching (initial: 50 matches created)

[1A[2K   â³ Waiting 20s for Tier 3 guaranteed matching...

[1A[2K   ğŸ”„ Retry round 1/3: Processing 150 unmatched users...

[1A[2K   âœ… 0 matches created in round 1

[1A[2K   â³ Waiting 3s before next retry round...

[1A[2K   ğŸ”„ Retry round 2/3: Processing 150 unmatched users...

[1A[2K   âœ… 0 matches created in round 2

[1A[2K   â³ Waiting 3s before next retry round...

[1A[2K   ğŸ”„ Retry round 3/3: Processing 150 unmatched users...

[1A[2K   âœ… 0 matches created in round 3

[1A[2K   â³ Waiting up to 15s for matches to stabilize...

[1A[2K   ğŸ“Š Current pairs: 50 (waiting for stability...)

[1A[2K   âœ… Matches stabilized at 50 pairs after 8s

[1A[2K
================================================================================

[1A[2KğŸ“Š SCENARIO: Gender Imbalance - Extreme Female Majority

[1A[2K================================================================================

[1A[2K
âœ… Status: PASSED

[1A[2Kâ±ï¸  Duration: 77.97s

[1A[2K
ğŸ“ˆ Results:

[1A[2K   Pairs created: 50

[1A[2K   Unique pairs: 50

[1A[2K   Duplicate users: 0

[1A[2K   Unmatched users: 150

[1A[2K
â±ï¸  Performance:

[1A[2K   Avg join time: 1834.52ms

[1A[2K   Avg match time: 0.00ms

[1A[2K   Operations/sec: 3.21

[1A[2K
âœ… Passed assertions (3):

[1A[2K   âœ“ Exact pairs: 50 (target: 50, range: 49-51)

[1A[2K   âœ“ No duplicate users in pairs

[1A[2K   âœ“ Unmatched users: 150 (target: 150, range: 143-157)

[1A[2K
================================================================================

[1A[2KğŸ§¹ Clearing queue and matches...

[1A[2K  âœ… State cleared

[1A[2K
ğŸ“Š Running scenario: Odd Number - Single Odd User

[1A[2K   Users: 500 (250M, 250F)

[1A[2K   âœ… 500/500 users joined queue

[1A[2K   ğŸ“¦ Processing matching in batches of 50...

[1A[2K   âœ… Processed matching (initial: 0 matches created)

[1A[2K   â³ Waiting 25s for Tier 3 guaranteed matching...

[1A[2K   â³ Waiting up to 20s for matches to stabilize...

[1A[2K   ğŸ“Š Current pairs: 250 (waiting for stability...)

[1A[2K   âœ… Matches stabilized at 250 pairs after 8s

[1A[2K
================================================================================

[1A[2KğŸ“Š SCENARIO: Odd Number - Single Odd User

[1A[2K================================================================================

[1A[2K
âœ… Status: PASSED

[1A[2Kâ±ï¸  Duration: 53.13s

[1A[2K
ğŸ“ˆ Results:

[1A[2K   Pairs created: 250

[1A[2K   Unique pairs: 250

[1A[2K   Duplicate users: 0

[1A[2K   Unmatched users: 0

[1A[2K
â±ï¸  Performance:

[1A[2K   Avg join time: 4221.99ms

[1A[2K   Avg match time: 0.00ms

[1A[2K   Operations/sec: 9.41

[1A[2K
âœ… Passed assertions (3):

[1A[2K   âœ“ Exact pairs: 250 (target: 250, range: 245-255)

[1A[2K   âœ“ No duplicate users in pairs

[1A[2K   âœ“ Unmatched users: 0 (target: 0, range: 0-1)

[1A[2K
================================================================================

[1A[2KğŸ§¹ Clearing queue and matches...

[1A[2K  âœ… State cleared

[1A[2K
ğŸ“Š Running scenario: Odd Number - Single Unmatched User

[1A[2K   Users: 499 (250M, 249F)

[1A[2K   âœ… 499/499 users joined queue

[1A[2K   ğŸ“¦ Processing matching in batches of 50...

[1A[2K   âœ… Created 249 matches in call 1 (total: 249)

[1A[2K   âœ… Processed matching (initial: 249 matches created)

[1A[2K   â³ Waiting 25s for Tier 3 guaranteed matching...

[1A[2K   ğŸ”„ Retry round 1/3: Processing 1 unmatched users...

[1A[2K   âœ… 0 matches created in round 1

[1A[2K   â³ Waiting 5s before next retry round...

[1A[2K   ğŸ”„ Retry round 2/3: Processing 1 unmatched users...

[1A[2K   âœ… 0 matches created in round 2

[1A[2K   â³ Waiting 5s before next retry round...

[1A[2K   ğŸ”„ Retry round 3/3: Processing 1 unmatched users...

[1A[2K   âœ… 0 matches created in round 3

[1A[2K   â³ Waiting up to 20s for matches to stabilize...

[1A[2K   ğŸ“Š Current pairs: 249 (waiting for stability...)

[1A[2K   âœ… Matches stabilized at 249 pairs after 8s

[1A[2K
================================================================================

[1A[2KğŸ“Š SCENARIO: Odd Number - Single Unmatched User

[1A[2K================================================================================

[1A[2K
âœ… Status: PASSED

[1A[2Kâ±ï¸  Duration: 75.96s

[1A[2K
ğŸ“ˆ Results:

[1A[2K   Pairs created: 249

[1A[2K   Unique pairs: 249

[1A[2K   Duplicate users: 0

[1A[2K   Unmatched users: 1

[1A[2K
â±ï¸  Performance:

[1A[2K   Avg join time: 4122.00ms

[1A[2K   Avg match time: 0.00ms

[1A[2K   Operations/sec: 6.57

[1A[2K
âœ… Passed assertions (3):

[1A[2K   âœ“ Exact pairs: 249 (target: 249, range: 245-253)

[1A[2K   âœ“ No duplicate users in pairs

[1A[2K   âœ“ Unmatched users: 1 (target: 1, range: 0-2)

[1A[2K
================================================================================

[1A[2KğŸ§¹ Clearing queue and matches...

[1A[2K  âœ… State cleared

[1A[2K
ğŸ“Š Running scenario: Single User Spinning

[1A[2K   Users: 1 (1M, 0F)

[1A[2K   âœ… 1/1 users joined queue

[1A[2K   ğŸ“¦ Processing matching in batches of 100...

[1A[2K   âœ… Processed matching (initial: 0 matches created)

[1A[2K   â³ Waiting 15s for Tier 3 guaranteed matching...

[1A[2K   ğŸ”„ Retry round 1/3: Processing 1 unmatched users...

[1A[2K   âœ… 0 matches created in round 1

[1A[2K   â³ Waiting 3s before next retry round...

[1A[2K   ğŸ”„ Retry round 2/3: Processing 1 unmatched users...

[1A[2K   âœ… 0 matches created in round 2

[1A[2K   â³ Waiting 3s before next retry round...

[1A[2K   ğŸ”„ Retry round 3/3: Processing 1 unmatched users...

[1A[2K   âœ… 0 matches created in round 3

[1A[2K   â³ Waiting up to 10s for matches to stabilize...

[1A[2K   âœ… Matches stabilized at 0 pairs after 6s

[1A[2K
================================================================================

[1A[2KğŸ“Š SCENARIO: Single User Spinning

[1A[2K================================================================================

[1A[2K
âœ… Status: PASSED

[1A[2Kâ±ï¸  Duration: 58.65s

[1A[2K
ğŸ“ˆ Results:

[1A[2K   Pairs created: 0

[1A[2K   Unique pairs: 0

[1A[2K   Duplicate users: 0

[1A[2K   Unmatched users: 1

[1A[2K
â±ï¸  Performance:

[1A[2K   Avg join time: 101.00ms

[1A[2K   Avg match time: 0.00ms

[1A[2K   Operations/sec: 0.02

[1A[2K
âœ… Passed assertions (3):

[1A[2K   âœ“ Exact pairs: 0 (target: 0, range: -1-1)

[1A[2K   âœ“ No duplicate users in pairs

[1A[2K   âœ“ Unmatched users: 1 (target: 1, range: 0-2)

[1A[2K
================================================================================

[1A[2KğŸ§¹ Clearing queue and matches...

[1A[2K  âœ… State cleared

[1A[2K
ğŸ“Š Running scenario: Immediate Leave After Pairing

[1A[2K   Users: 100 (50M, 50F)

